<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 Introduction to Data Analytics | Data Analytics with R</title>
  <meta name="description" content="1 Introduction to Data Analytics | Data Analytics with R" />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="1 Introduction to Data Analytics | Data Analytics with R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 Introduction to Data Analytics | Data Analytics with R" />
  
  
  

<meta name="author" content="Adam Smith, UCL School of Management" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="getting-started-with-r.html"/>
<link rel="next" href="computing-probabilities.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html"><i class="fa fa-check"></i>Getting Started with R</a><ul>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#why-use-r"><i class="fa fa-check"></i>Why use R?</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#downloading-r-and-rstudio"><i class="fa fa-check"></i>Downloading R and RStudio</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#installing-and-loading-packages"><i class="fa fa-check"></i>Installing and Loading Packages</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction-to-data-analytics.html"><a href="introduction-to-data-analytics.html"><i class="fa fa-check"></i><b>1</b> Introduction to Data Analytics</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-data-analytics.html"><a href="introduction-to-data-analytics.html#loading-and-inspecting-data-sets"><i class="fa fa-check"></i><b>1.1</b> Loading and Inspecting Data Sets</a></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-data-analytics.html"><a href="introduction-to-data-analytics.html#statistical-summaries"><i class="fa fa-check"></i><b>1.2</b> Statistical Summaries</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-data-analytics.html"><a href="introduction-to-data-analytics.html#graphical-summaries"><i class="fa fa-check"></i><b>1.3</b> Graphical Summaries</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="computing-probabilities.html"><a href="computing-probabilities.html"><i class="fa fa-check"></i><b>2</b> Computing Probabilities</a><ul>
<li class="chapter" data-level="2.1" data-path="computing-probabilities.html"><a href="computing-probabilities.html#normal-distribution"><i class="fa fa-check"></i><b>2.1</b> Normal Distribution</a><ul>
<li class="chapter" data-level="2.1.1" data-path="computing-probabilities.html"><a href="computing-probabilities.html#probability-density-function-dnorm"><i class="fa fa-check"></i><b>2.1.1</b> Probability Density Function (<code>dnorm</code>)</a></li>
<li class="chapter" data-level="2.1.2" data-path="computing-probabilities.html"><a href="computing-probabilities.html#cumulative-distribution-function-pnorm"><i class="fa fa-check"></i><b>2.1.2</b> Cumulative Distribution Function (<code>pnorm</code>)</a></li>
<li class="chapter" data-level="2.1.3" data-path="computing-probabilities.html"><a href="computing-probabilities.html#quantile-function-qnorm"><i class="fa fa-check"></i><b>2.1.3</b> Quantile Function (<code>qnorm</code>)</a></li>
<li class="chapter" data-level="2.1.4" data-path="computing-probabilities.html"><a href="computing-probabilities.html#random-number-generator-rnorm"><i class="fa fa-check"></i><b>2.1.4</b> Random Number Generator (<code>rnorm</code>)</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="computing-probabilities.html"><a href="computing-probabilities.html#bernoulli-and-binomial-distributions"><i class="fa fa-check"></i><b>2.2</b> Bernoulli and Binomial Distributions</a><ul>
<li class="chapter" data-level="2.2.1" data-path="computing-probabilities.html"><a href="computing-probabilities.html#probability-mass-function-dbinom"><i class="fa fa-check"></i><b>2.2.1</b> Probability Mass Function (<code>dbinom</code>)</a></li>
<li class="chapter" data-level="2.2.2" data-path="computing-probabilities.html"><a href="computing-probabilities.html#cumulative-distribution-function-pbinom"><i class="fa fa-check"></i><b>2.2.2</b> Cumulative Distribution Function (<code>pbinom</code>)</a></li>
<li class="chapter" data-level="2.2.3" data-path="computing-probabilities.html"><a href="computing-probabilities.html#quantile-function-qbinom"><i class="fa fa-check"></i><b>2.2.3</b> Quantile Function (<code>qbinom</code>)</a></li>
<li class="chapter" data-level="2.2.4" data-path="computing-probabilities.html"><a href="computing-probabilities.html#random-number-generator-rbinom"><i class="fa fa-check"></i><b>2.2.4</b> Random Number Generator (<code>rbinom</code>)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="sampling-distributions-and-the-clt.html"><a href="sampling-distributions-and-the-clt.html"><i class="fa fa-check"></i><b>3</b> Sampling Distributions and the CLT</a></li>
<li class="chapter" data-level="4" data-path="estimation.html"><a href="estimation.html"><i class="fa fa-check"></i><b>4</b> Estimation</a><ul>
<li class="chapter" data-level="4.1" data-path="estimation.html"><a href="estimation.html#point-estimation"><i class="fa fa-check"></i><b>4.1</b> Point Estimation</a></li>
<li class="chapter" data-level="4.2" data-path="estimation.html"><a href="estimation.html#confidence-intervals"><i class="fa fa-check"></i><b>4.2</b> Confidence Intervals</a><ul>
<li class="chapter" data-level="4.2.1" data-path="estimation.html"><a href="estimation.html#types-of-confidence-intervals"><i class="fa fa-check"></i><b>4.2.1</b> Types of Confidence Intervals</a></li>
<li class="chapter" data-level="4.2.2" data-path="estimation.html"><a href="estimation.html#examples"><i class="fa fa-check"></i><b>4.2.2</b> Examples</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html"><i class="fa fa-check"></i><b>5</b> Hypothesis Tests</a><ul>
<li class="chapter" data-level="5.1" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#steps-of-hypothesis-testing"><i class="fa fa-check"></i><b>5.1</b> Steps of Hypothesis Testing</a></li>
<li class="chapter" data-level="5.2" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#connection-to-confidence-intervals"><i class="fa fa-check"></i><b>5.2</b> Connection to Confidence Intervals</a></li>
<li class="chapter" data-level="5.3" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#hypothesis-testing-in-r"><i class="fa fa-check"></i><b>5.3</b> Hypothesis Testing in R</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="regression.html"><a href="regression.html"><i class="fa fa-check"></i><b>6</b> Regression</a><ul>
<li class="chapter" data-level="6.1" data-path="regression.html"><a href="regression.html#linear-regression"><i class="fa fa-check"></i><b>6.1</b> Linear Regression</a></li>
<li class="chapter" data-level="6.2" data-path="regression.html"><a href="regression.html#regression-trees"><i class="fa fa-check"></i><b>6.2</b> Regression Trees</a></li>
<li class="chapter" data-level="6.3" data-path="regression.html"><a href="regression.html#model-selection"><i class="fa fa-check"></i><b>6.3</b> Model Selection</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="classification.html"><a href="classification.html"><i class="fa fa-check"></i><b>7</b> Classification</a><ul>
<li class="chapter" data-level="7.1" data-path="classification.html"><a href="classification.html#k-nearest-neighbors"><i class="fa fa-check"></i><b>7.1</b> <span class="math inline">\(k\)</span>-Nearest Neighbors</a></li>
<li class="chapter" data-level="7.2" data-path="classification.html"><a href="classification.html#logistic-regression"><i class="fa fa-check"></i><b>7.2</b> Logistic Regression</a></li>
<li class="chapter" data-level="7.3" data-path="classification.html"><a href="classification.html#classification-trees"><i class="fa fa-check"></i><b>7.3</b> Classification Trees</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="clustering.html"><a href="clustering.html"><i class="fa fa-check"></i><b>8</b> Clustering</a><ul>
<li class="chapter" data-level="8.1" data-path="clustering.html"><a href="clustering.html#k-means"><i class="fa fa-check"></i><b>8.1</b> <span class="math inline">\(k\)</span>-Means</a></li>
<li class="chapter" data-level="8.2" data-path="clustering.html"><a href="clustering.html#hierarchical-clustering"><i class="fa fa-check"></i><b>8.2</b> Hierarchical Clustering</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analytics with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-to-data-analytics" class="section level1">
<h1><span class="header-section-number">1</span> Introduction to Data Analytics</h1>
<div id="loading-and-inspecting-data-sets" class="section level2">
<h2><span class="header-section-number">1.1</span> Loading and Inspecting Data Sets</h2>
<hr>
<p>The following line of code reads in a data set that contains weekly prices, promotional activity, and sales for 20 different brands of beer. The data set comes from many stores within one Chicago grocery retail chain – Dominick’s Finer Foods – and spans more than five years of transactions. The complete raw data are publically available from the Kilts Center for Marketing at the University of Chicago.<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">beer =<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;beer.csv&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;,&quot;</span>)</a></code></pre></div>
<p>Notice we used the <code>sep</code> option to specify the delimiter used in our data file (which is a comma <code>,</code> for this data file).</p>
<p>We always want to view the data after importing to make sure all the values were read-in correctly. To inspect the first few lines of a data set, use the <code>head( )</code> command.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">head</span>(beer)</a></code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
store
</th>
<th style="text-align:right;">
upc
</th>
<th style="text-align:right;">
week
</th>
<th style="text-align:right;">
move
</th>
<th style="text-align:right;">
price
</th>
<th style="text-align:left;">
sale
</th>
<th style="text-align:right;">
profit
</th>
<th style="text-align:left;">
brand
</th>
<th style="text-align:right;">
packsize
</th>
<th style="text-align:right;">
itemsize
</th>
<th style="text-align:left;">
units
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
1.82e+09
</td>
<td style="text-align:right;">
91
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
3.49
</td>
<td style="text-align:left;">
</td>
<td style="text-align:right;">
19.05
</td>
<td style="text-align:left;">
BUDWEISER BEER
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
oz
</td>
</tr>
<tr>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
1.82e+09
</td>
<td style="text-align:right;">
91
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
3.79
</td>
<td style="text-align:left;">
</td>
<td style="text-align:right;">
28.23
</td>
<td style="text-align:left;">
O’DOUL’S N/A LONGNEC
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
oz
</td>
</tr>
<tr>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
1.82e+09
</td>
<td style="text-align:right;">
91
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
3.69
</td>
<td style="text-align:left;">
</td>
<td style="text-align:right;">
22.03
</td>
<td style="text-align:left;">
BUDWEISER BEER LONG
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
oz
</td>
</tr>
<tr>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
1.82e+09
</td>
<td style="text-align:right;">
91
</td>
<td style="text-align:right;">
78
</td>
<td style="text-align:right;">
3.29
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
5.78
</td>
<td style="text-align:left;">
MICHELOB REGULAR BEE
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
oz
</td>
</tr>
<tr>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
3.41e+09
</td>
<td style="text-align:right;">
91
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
3.69
</td>
<td style="text-align:left;">
</td>
<td style="text-align:right;">
22.98
</td>
<td style="text-align:left;">
MILLER LITE BEER
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
oz
</td>
</tr>
<tr>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
3.41e+09
</td>
<td style="text-align:right;">
91
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
3.69
</td>
<td style="text-align:left;">
</td>
<td style="text-align:right;">
22.98
</td>
<td style="text-align:left;">
MILLER GENUINE DRAFT
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
oz
</td>
</tr>
</tbody>
</table>
</div>
<p>We can see that our data set contains 11 different variables (i.e., columns). A brief summary of each variable is provided below.</p>
<ul>
<li><code>store</code>: unique store ID number</li>
<li><code>upc</code>: Universal Product Code</li>
<li><code>week</code>: week ID number</li>
<li><code>move</code>: number of units sold</li>
<li><code>price</code>: retail price in US dollars</li>
<li><code>sale</code>: indicator of promotional activity</li>
<li><code>profit</code>: gross profit margin</li>
<li><code>brand</code>: brand name</li>
<li><code>packsize</code>: number of items in one package</li>
<li><code>itemsize</code>: size of items in one package</li>
<li><code>units</code>: units of items</li>
</ul>
<p>Finally, we need to attach the data set so that R knows where to find the variables we want to analyze (e.g., move, price).</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">attach</span>(beer)</a></code></pre></div>
<p>Now we can access/view any of the variables by typing their name. For example, let’s look at the first 5 observations of the <code>price</code> variable.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">price[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]</a></code></pre></div>
<pre><code>## [1] 3.49 3.79 3.69 3.29 3.69</code></pre>
<p>Here the closed brackets <code>[ ]</code> allow us to subset the data and the numbers <code>1:5</code> tell R to return observations 1, 2, 3, 4, and 5.</p>
<p><br></p>
</div>
<div id="statistical-summaries" class="section level2">
<h2><span class="header-section-number">1.2</span> Statistical Summaries</h2>
<hr>
<p>We can perform a variety of statistical summaries on our data using R’s built-in functions. A summary of commonly used statistical functions is provided below.</p>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Statistic
</th>
<th style="text-align:left;">
R Function
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
mean
</td>
<td style="text-align:left;">
<code>mean( )</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
median
</td>
<td style="text-align:left;">
<code>median( )</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
variance
</td>
<td style="text-align:left;">
<code>var( )</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
standard deviation
</td>
<td style="text-align:left;">
<code>sd( )</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
correlation
</td>
<td style="text-align:left;">
<code>cor( )</code>
</td>
</tr>
</tbody>
</table>
<p>For example, we can compute the average demand (i.e., units sold) variable using the <code>mean( )</code> function.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">mean</span>(move)</a></code></pre></div>
<pre><code>## [1] 18.81</code></pre>
<p>Now suppose we wanted to find the average demand only for a certain brand of beer, say Budweiser. To do this, we first need to subset <code>move</code> and only include observations where <code>brand</code> is equal to <code>BUDWEISER BEER</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">move[brand<span class="op">==</span><span class="st">&quot;BUDWEISER BEER&quot;</span>]</a></code></pre></div>
<p>Again, using closed brackets <code>[ ]</code> allow us to subset the data. We are interested in the <code>move</code> variable, but now we only want the observations where the condition stated inside the brackets is satisfied. Note: a double equals sign <code>==</code> is always used when writing logical statements to check equality.</p>
<p>Now we can use the <code>mean( )</code> function to compute the desired average demand for Budweiser.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">mean</span>(move[brand<span class="op">==</span><span class="st">&quot;BUDWEISER BEER&quot;</span>])</a></code></pre></div>
<pre><code>## [1] 16.33</code></pre>
<p>An all-purpose way to compute averages across different factor levels is to use the <code>aggregate( )</code> function. The first argument specifies the variable we want to average and associated categorical/factor variable, and the second argument specifies the function we want to execute (i.e., the mean).</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">aggregate</span>(move <span class="op">~</span><span class="st"> </span>brand, <span class="dt">FUN=</span>mean)</a></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:250px; ">
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
brand
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
move
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
BECK’S REG BEER NR B
</td>
<td style="text-align:right;">
18.35
</td>
</tr>
<tr>
<td style="text-align:left;">
BERGHOFF REGULAR BEE
</td>
<td style="text-align:right;">
15.57
</td>
</tr>
<tr>
<td style="text-align:left;">
BUDWEISER BEER
</td>
<td style="text-align:right;">
16.33
</td>
</tr>
<tr>
<td style="text-align:left;">
BUDWEISER BEER LONG
</td>
<td style="text-align:right;">
18.24
</td>
</tr>
<tr>
<td style="text-align:left;">
CORONA EXTRA BEER NR
</td>
<td style="text-align:right;">
15.39
</td>
</tr>
<tr>
<td style="text-align:left;">
HEINEKEN BEER N.R.BT
</td>
<td style="text-align:right;">
16.74
</td>
</tr>
<tr>
<td style="text-align:left;">
LOWENBRAU BEER NR BT
</td>
<td style="text-align:right;">
16.89
</td>
</tr>
<tr>
<td style="text-align:left;">
MICHELOB REGULAR BEE
</td>
<td style="text-align:right;">
14.23
</td>
</tr>
<tr>
<td style="text-align:left;">
MILLER GEN DRFT LNNR
</td>
<td style="text-align:right;">
50.96
</td>
</tr>
<tr>
<td style="text-align:left;">
MILLER GEN DRFT LT L
</td>
<td style="text-align:right;">
20.06
</td>
</tr>
<tr>
<td style="text-align:left;">
MILLER GENUINE DRAFT
</td>
<td style="text-align:right;">
16.37
</td>
</tr>
<tr>
<td style="text-align:left;">
MILLER HIGH LIFE LNN
</td>
<td style="text-align:right;">
14.05
</td>
</tr>
<tr>
<td style="text-align:left;">
MILLER LITE BEER
</td>
<td style="text-align:right;">
18.09
</td>
</tr>
<tr>
<td style="text-align:left;">
MILLER LITE BEER N.R
</td>
<td style="text-align:right;">
18.71
</td>
</tr>
<tr>
<td style="text-align:left;">
MILLER LITE LONGNECK
</td>
<td style="text-align:right;">
38.39
</td>
</tr>
<tr>
<td style="text-align:left;">
MILLER SHARP’S N/A L
</td>
<td style="text-align:right;">
11.45
</td>
</tr>
<tr>
<td style="text-align:left;">
O’DOUL’S N/A LONGNEC
</td>
<td style="text-align:right;">
11.96
</td>
</tr>
<tr>
<td style="text-align:left;">
OLD STYLE BEER
</td>
<td style="text-align:right;">
13.38
</td>
</tr>
<tr>
<td style="text-align:left;">
SAMUEL ADAMS LAGER N
</td>
<td style="text-align:right;">
20.62
</td>
</tr>
</tbody>
</table>
</div>
<p>We can also compute the average of more than one continuous variable by binding together (i.e., concatenating) the columns of the variables of interest using the <code>cbind( )</code> command. For example, the following code will compute the average sales volume and average price by brand.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw">aggregate</span>(<span class="kw">cbind</span>(move,price) <span class="op">~</span><span class="st"> </span>brand, <span class="dt">FUN=</span>mean)</a></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:250px; ">
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
brand
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
move
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
price
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
BECK’S REG BEER NR B
</td>
<td style="text-align:right;">
18.35
</td>
<td style="text-align:right;">
5.877
</td>
</tr>
<tr>
<td style="text-align:left;">
BERGHOFF REGULAR BEE
</td>
<td style="text-align:right;">
15.57
</td>
<td style="text-align:right;">
3.944
</td>
</tr>
<tr>
<td style="text-align:left;">
BUDWEISER BEER
</td>
<td style="text-align:right;">
16.33
</td>
<td style="text-align:right;">
3.814
</td>
</tr>
<tr>
<td style="text-align:left;">
BUDWEISER BEER LONG
</td>
<td style="text-align:right;">
18.24
</td>
<td style="text-align:right;">
3.746
</td>
</tr>
<tr>
<td style="text-align:left;">
CORONA EXTRA BEER NR
</td>
<td style="text-align:right;">
15.39
</td>
<td style="text-align:right;">
5.795
</td>
</tr>
<tr>
<td style="text-align:left;">
HEINEKEN BEER N.R.BT
</td>
<td style="text-align:right;">
16.74
</td>
<td style="text-align:right;">
6.341
</td>
</tr>
<tr>
<td style="text-align:left;">
LOWENBRAU BEER NR BT
</td>
<td style="text-align:right;">
16.89
</td>
<td style="text-align:right;">
4.051
</td>
</tr>
<tr>
<td style="text-align:left;">
MICHELOB REGULAR BEE
</td>
<td style="text-align:right;">
14.23
</td>
<td style="text-align:right;">
4.040
</td>
</tr>
<tr>
<td style="text-align:left;">
MILLER GEN DRFT LNNR
</td>
<td style="text-align:right;">
50.96
</td>
<td style="text-align:right;">
3.686
</td>
</tr>
<tr>
<td style="text-align:left;">
MILLER GEN DRFT LT L
</td>
<td style="text-align:right;">
20.06
</td>
<td style="text-align:right;">
3.689
</td>
</tr>
<tr>
<td style="text-align:left;">
MILLER GENUINE DRAFT
</td>
<td style="text-align:right;">
16.37
</td>
<td style="text-align:right;">
3.783
</td>
</tr>
<tr>
<td style="text-align:left;">
MILLER HIGH LIFE LNN
</td>
<td style="text-align:right;">
14.05
</td>
<td style="text-align:right;">
3.678
</td>
</tr>
<tr>
<td style="text-align:left;">
MILLER LITE BEER
</td>
<td style="text-align:right;">
18.09
</td>
<td style="text-align:right;">
3.820
</td>
</tr>
<tr>
<td style="text-align:left;">
MILLER LITE BEER N.R
</td>
<td style="text-align:right;">
18.71
</td>
<td style="text-align:right;">
3.744
</td>
</tr>
<tr>
<td style="text-align:left;">
MILLER LITE LONGNECK
</td>
<td style="text-align:right;">
38.39
</td>
<td style="text-align:right;">
3.689
</td>
</tr>
<tr>
<td style="text-align:left;">
MILLER SHARP’S N/A L
</td>
<td style="text-align:right;">
11.45
</td>
<td style="text-align:right;">
3.356
</td>
</tr>
<tr>
<td style="text-align:left;">
O’DOUL’S N/A LONGNEC
</td>
<td style="text-align:right;">
11.96
</td>
<td style="text-align:right;">
3.785
</td>
</tr>
<tr>
<td style="text-align:left;">
OLD STYLE BEER
</td>
<td style="text-align:right;">
13.38
</td>
<td style="text-align:right;">
3.682
</td>
</tr>
<tr>
<td style="text-align:left;">
SAMUEL ADAMS LAGER N
</td>
<td style="text-align:right;">
20.62
</td>
<td style="text-align:right;">
5.405
</td>
</tr>
</tbody>
</table>
</div>
<p><br></p>
</div>
<div id="graphical-summaries" class="section level2">
<h2><span class="header-section-number">1.3</span> Graphical Summaries</h2>
<hr>
<p>Creating visual data summaries in R is also one of its strengths. Examples of useful graphical functions include <code>hist( )</code>, <code>boxplot( )</code>, <code>plot( )</code>, <code>pie( )</code>, <code>barplot( )</code>.</p>
<p>An example of a <strong>histogram</strong> of weekly demand is shown below.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw">hist</span>(move, <span class="dt">main=</span><span class="st">&quot;Distribution of Beer Sales Volume&quot;</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>Here the <code>main=</code> option allows us to customize the plot title. We can also use the <code>breaks=</code> option to control the bin width.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">hist</span>(move, <span class="dt">main=</span><span class="st">&quot;Distribution of Beer Sales Volume&quot;</span>, <span class="dt">breaks=</span><span class="dv">50</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p>We can also use a <strong>boxplot</strong> to look at the distribution of balance. To do this, we’ll use the <code>boxplot( )</code> function.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw">boxplot</span>(move, <span class="dt">main=</span><span class="st">&quot;Distribution of Beer Sales Volume&quot;</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>Notice how the extreme positive values (outliers) make the boxplot hard to analyze. We can remove these outliers with the <code>outline=FALSE</code> option.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw">boxplot</span>(move, <span class="dt">main=</span><span class="st">&quot;Distribution of Beer Sales Volume&quot;</span>, <span class="dt">outline=</span><span class="ot">FALSE</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<p>We can also use the <code>boxplot( )</code> function to see how the distribution of demand changes across brands of beer.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw">boxplot</span>(move <span class="op">~</span><span class="st"> </span>brand, <span class="dt">main=</span><span class="st">&quot;Distribution of Beer Sales Volume&quot;</span>, <span class="dt">outline=</span><span class="ot">FALSE</span>, <span class="dt">xlab=</span><span class="st">&quot;&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;weekly units sold&quot;</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<p>The first argument tells R that we want to plot move against brand. Note that the numeric variable (e.g., move) must always come before the factor variable (e.g., brand). We’ve also added labels to the x- and y-axes using the <code>xlab</code> and <code>ylab</code> options.</p>
<p>One issue with the plot above is that the labels on the x-axis are too wide. To solve this problem, we can rotate the x-axis labels by adding <code>las=2</code> as an option in the <code>boxplot( )</code> command. We will also want to slightly adjust the plot margins to allow for more space below the graph. This can be done by adding <code>par(mar=c(a,b,c,d))</code> before the <code>boxplot( )</code> command, where <code>a,b,c,d</code> denote the bottom, left, top and right margins, respectively. Lastly, we can use the <code>cex.axis</code> option to adjust the axis label sizes.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="kw">par</span>(<span class="dt">mar=</span><span class="kw">c</span>(<span class="fl">10.1</span>,<span class="fl">4.1</span>,<span class="fl">4.1</span>,<span class="fl">2.1</span>))</a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="kw">boxplot</span>(move <span class="op">~</span><span class="st"> </span>brand, <span class="dt">main=</span><span class="st">&quot;Distribution of Beer Sales Volume&quot;</span>, <span class="dt">outline=</span><span class="ot">FALSE</span>, <span class="dt">xlab=</span><span class="st">&quot;&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;weekly units sold&quot;</span>, <span class="dt">las=</span><span class="dv">2</span>, <span class="dt">cex.axis=</span>.<span class="dv">75</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p>We can create <strong>scatter plots</strong> using the <code>plot( )</code> function.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="kw">plot</span>(price, move, <span class="dt">main=</span><span class="st">&quot;Beer Demand Patterns&quot;</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p>The first argument corresponds to the variable on the x-axis, while the second corresponds to the variable on the y-axis.</p>
<p>To modify the type or color of the points in the above plot, we can add <code>pch</code> and <code>col</code> options. For example, let’s change the points to be closed circles (<code>pch=16</code>) that are red (<code>col=2</code>).</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="kw">plot</span>(price, move, <span class="dt">main=</span><span class="st">&quot;Beer Demand Patterns&quot;</span>, <span class="dt">pch=</span><span class="dv">16</span>, <span class="dt">col=</span><span class="dv">2</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<p>Adding color is a great way to incorporate information about other variables. For example, should the relationship between price and demand change by brand? The answer is likely yes. To see this visually, let’s change the color of each point to represent the corresponding brand. This is an example of “conditional formatting”.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">palette =<span class="st"> </span><span class="kw">rainbow</span>(<span class="dv">20</span>)</a>
<a class="sourceLine" id="cb23-2" data-line-number="2">colors =<span class="st"> </span>palette[<span class="kw">as.numeric</span>(brand)]</a>
<a class="sourceLine" id="cb23-3" data-line-number="3"><span class="kw">plot</span>(price, move, <span class="dt">main=</span><span class="st">&quot;Beer Demand Patterns&quot;</span>, <span class="dt">pch=</span><span class="dv">16</span>, <span class="dt">col=</span>colors)</a>
<a class="sourceLine" id="cb23-4" data-line-number="4"><span class="kw">legend</span>(<span class="st">&quot;topright&quot;</span>, <span class="dt">legend=</span><span class="kw">levels</span>(brand), <span class="dt">pch=</span><span class="dv">16</span>, <span class="dt">col=</span>palette, <span class="dt">cex=</span>.<span class="dv">5</span>, <span class="dt">bty=</span><span class="st">&quot;n&quot;</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<p>The first line of code generates 20 unique colors from a rainbow palette, one for each brand. Because there are hundreds of points on our scatter plot, we need to identify assign a color to each point. This is what the second line of code does. In the third line, we simply use the <code>colors</code> object we just created to specify point colors.</p>
<p>The last line of code adds a legend to the plot so that we know what the colors correspond to. The first argument indicates the legend position, the second argument <code>legend</code> indicates the values to be shown on the legend, the third argument <code>pch</code> is the point type, the fourth argument <code>col</code> is the color for each value, and the fifth argument <code>cex</code> adjusts the text size.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="2">
<li id="fn2"><p><a href="https://www.chicagobooth.edu/research/kilts/datasets/dominicks" class="uri">https://www.chicagobooth.edu/research/kilts/datasets/dominicks</a><a href="introduction-to-data-analytics.html#fnref2" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="getting-started-with-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="computing-probabilities.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
